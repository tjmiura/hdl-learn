ビットスライス式のアルゴリズム組み立てメモ

中間ノード
- 出力 outレジスタ
- 入力
  - クロック、リセット
  - 上下の方向
  - 上位の出力
  - 下位の出力
- クロック入力時の動作
  - リセット
    - 0をラッチ
  - 方向が上りのとき
    - 下位の出力をラッチ
  - 方向が下りのとき
    - 上位の出力をラッチ

下端ノード
- 出力 outレジスタ
- 入力
  - クロック、リセット
  - 上位の出力
  - 方向
- クロック入力時の動作
  - リセット
    - 1をラッチ
  - 方向が下りのとき
    - 上位の出力をラッチ
  - 方向が上りのとき
    - 0をラッチ

上端ノード
- 出力 outレジスタ
- 入力
  - クロック、リセット
  - 下位の出力
  - 方向
- クロック入力時の動作
  - リセット
    - 0をラッチ
  - 方向が上りのとき
    - 下位の出力をラッチ
  - 方向が下りのとき
    - 0をラッチ

方向制御
- 出力 dirレジスタ: 1=上り 0=下り
- 入力
  - クロック、リセット
  - 最上位の出力
  - 最下位の出力
- クロック入力時の動作
  - リセット
    - 1をラッチ
  - 方向が上り、かつ最上位=1のとき
    - 下りをラッチ
  - 方向が下り、かつ最下位=1のとき
    - 上りをラッチ
  →ひとつ前を拾ってこないと「1」が端を通過して全体が0になってしまった

